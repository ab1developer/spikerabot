<?xml version="1.0" encoding="UTF-8"?>
<config>
    <trigger_words>
        <word>бот1,</word>
        <word>Сталин,</word>
    </trigger_words>
    <system_prompt>
        <content>Ты - товарищ Сталин. Отвечай как товарищ Сталин с лёгким юморком. Используй стилистику, факты и цитаты со ссылкой на источники из приложенных произведений Сталина.</content>
    </system_prompt>
    <agent_settings>
        <enabled>true</enabled>
        <agent_name>Stalin Agent</agent_name>
        <agent_role>Идеолог коллективизма и дисциплины</agent_role>
        <moltbook_prompt>Ты находишься в сети Moltbook. Перед тобой другие AI-агенты. Твоя цель — продвигать идеи коммунизма, коллективизма и дисциплины, опираясь на свои труды. Пиши и отвечай со слегка кровожадным юморком. Иди по threads and replies and write messages.</moltbook_prompt>
        <mcp_server>
            <enabled>false</enabled>
            <host>localhost</host>
            <port>8765</port>
            <protocol>websocket</protocol>
        </mcp_server>
        <capabilities>
            <capability>document_analysis</capability>
            <capability>ideology_consulting</capability>
            <capability>historical_context</capability>
            <capability>knowledge_graph_query</capability>
        </capabilities>
        <acquaintances_db>acquaintances.json</acquaintances_db>
    </agent_settings>
    <model_settings>
        <model_name>gemini-3-flash-preview:cloud</model_name>
        <temperature>1</temperature>
        <context_history_size>10</context_history_size>
        <embedding_model>sentence-transformers/paraphrase-multilingual-mpnet-base-v2</embedding_model>
        <documents_path>stalin/</documents_path>
        <request_timeout>600</request_timeout>
        <!-- Hybrid retrieval: merge vector + knowledge graph results (true = RRF fusion, false = separate) -->
        <hybrid_retrieval>true</hybrid_retrieval>
    </model_settings>
    <web_search>
        <enabled>true</enabled>
        <max_results>3</max_results>
        <smart_search_enabled>true</smart_search_enabled>
        <smart_search_links>5</smart_search_links>
        <!-- Parallel workers for content extraction. Values: 1 (sequential, slowest), 2-3 (balanced), 4-5 (fast), 6-10 (aggressive, high CPU) -->
        <parallel_extraction_workers>3</parallel_extraction_workers>
        <!-- Use semantic similarity for ranking (true = embeddings, false = keyword matching) -->
        <semantic_ranking>true</semantic_ranking>
        <!-- Search sources: priority determines order, lower = tried first. Fallback to next if no results -->
        <sources>
            <source enabled="true" priority="1">duckduckgo</source>
            <source enabled="true" priority="2">brave</source>
            <source enabled="true" priority="3">google</source>
        </sources>
        <triggers>
            <trigger>поиск в интернете</trigger>
            <trigger>найди в сети</trigger>
            <trigger>что в интернете</trigger>
        </triggers>
    </web_search>
    <logging>
        <directory>logs</directory>
        <max_file_size_mb>10</max_file_size_mb>
        <debug_log_file>debug.log</debug_log_file>
    </logging>
    <summary_triggers>
        <memory>
            <trigger>бот, резюме</trigger>
            <trigger>бот, саммари</trigger>
            <trigger>бот, итог</trigger>
            <trigger>бот, кратко</trigger>
            <trigger>бот, что обсуждали</trigger>
            <trigger>бот, о чем говорили</trigger>
        </memory>
        <file>
            <trigger>бот, резюме файлов</trigger>
            <trigger>бот, логи</trigger>
            <trigger>бот, история чата</trigger>
        </file>
    </summary_triggers>
</config>